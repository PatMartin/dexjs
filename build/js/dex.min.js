!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.dex=e()}}(function(){var e;return function n(e,t,r){function o(a,c){if(!t[a]){if(!e[a]){var d="function"==typeof require&&require;if(!c&&d)return d(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=t[a]={exports:{}};e[a][0].call(u.exports,function(n){var t=e[a][1][n];return o(t?t:n)},u,u.exports,n,e,t,r)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,t){var r={};r.version="0.7",r.range=function(e,n){return _.range(e,e+n)},r.copy=function(e){return _.copy(e)},r.array=e("./array/array"),r.config=e("./config/config"),r.bus=e("../lib/pubsub"),r.console=e("./console/console"),r.color=e("./color/color"),r.charts={d3:{map:{}},c3:{},dygraphs:{},d3plus:{},google:{},handlebars:{},threejs:{}},r.ui={jqueryui:{}},r.csv=e("./csv/csv"),r.datagen=e("./datagen/datagen"),r.json=e("./json/json"),r.matrix=e("./matrix/matrix"),r.object=e("./object/object"),r.component=e("./component/component"),n.exports=r},{"../lib/pubsub":2,"./array/array":3,"./color/color":4,"./component/component":5,"./config/config":6,"./console/console":7,"./csv/csv":8,"./datagen/datagen":9,"./json/json":10,"./matrix/matrix":11,"./object/object":12}],2:[function(n,t,r){!function(n){"use strict";function r(){var e={},t=Function;return{publish:function(){var t,r,o,i=arguments,a=e[i[0]];a&&(t=a.length,r=i.length>1?Array.prototype.splice.call(i,1):[],setTimeout(function(){for(o=0;t>o;o+=1)a[o].apply(n,r);a=n=r=null},0))},subscribe:function(n,r){if("string"!=typeof n)throw"invalid or missing channel";if(!(r instanceof t))throw"invalid or missing callback";return e[n]||(e[n]=[]),e[n].push(r),{channel:n,callback:r}},unsubscribe:function(n,r){if(n.channel&&n.callback&&(r=n.callback,n=n.channel),"string"!=typeof n)throw"invalid or missing channel";if(!(r instanceof t))throw"invalid or missing callback";var o,i=e[n],a=i instanceof Array?i.length:0;for(o=0;a>o;o+=1)if(i[o]===r){i.splice(o,1);break}}}}"function"==typeof e&&e.amd?e("pubsub",r):"object"==typeof t&&t.exports?t.exports=r():n.PubSub=r()}(this)},{}],3:[function(e,n,t){var r={};n.exports=r,n.exports.slice=function(e,n,t){var r,o,i=[],a=dex.array.copy(e);if(arguments.length<2)return a;for(2==arguments.length?r=Array.isArray(n)?n:dex.range(n,a.length-n):arguments.length>2&&(r=Array.isArray(n)?n:dex.range(n,t)),o=0;o<r.length;o++)i.push(a[r[o]]);return i},n.exports.extent=function(e,n){if(!e||e.length<=0||!n||n.length<=0)return[0,0];var t=e[0][n[0]],r=t;return n.forEach(function(n){e.forEach(function(e){t>e[n]&&(t=e[n]),r<e[n]&&(r=e[n])})}),[t,r]},n.exports.copy=function(e){return _.clone(e)}},{}],4:[function(e,n,t){t.toHex=function(e){if("#"===e.substr(0,1))return e;var n=/rgb\((\d+),(\d+),(\d+)\)/.exec(e),t=parseInt(n[1]),r=parseInt(n[2]),o=parseInt(n[3]),i=o|r<<8|t<<16;return"#"+i.toString(16)},t.colorScheme=function(e,n){if("cat10"===e||"1"==e)return d3.scale.category10();if("cat20"===e||"2"==e)return d3.scale.category20();if("cat20b"===e||"3"==e)return d3.scale.category20b();if("cat20c"===e||"4"==e)return d3.scale.category20c();if("HiContrast"==e)return d3.scale.ordinal().range(colorbrewer[e][9]);if(e in colorbrewer){var t,r=Math.pow(2,Math.ceil(Math.log(n)/Math.log(2)));for(r>128&&(r=256),t=r;t>=2;t--)if(colorbrewer[e][t])return d3.scale.ordinal().range(colorbrewer[e][t]);for(t=r;256>=t;t++)if(colorbrewer[e][t])return d3.scale.ordinal().range(colorbrewer[e][t]);return d3.scale.category20()}return d3.scale.category20()},t.shadeColor=function(e,n){var t=parseInt(e.slice(1),16),r=0>n?0:255,o=0>n?-1*n:n,i=t>>16,a=t>>8&255,c=255&t;return"#"+(16777216+65536*(Math.round((r-i)*o)+i)+256*(Math.round((r-a)*o)+a)+(Math.round((r-c)*o)+c)).toString(16).slice(1)},t.blendColors=function(e,n,t){var r=parseInt(e.slice(1),16),o=parseInt(n.slice(1),16),i=r>>16,a=r>>8&255,c=255&r,d=o>>16,l=o>>8&255,u=255&o;return"#"+(16777216+65536*(Math.round((d-i)*t)+i)+256*(Math.round((l-a)*t)+a)+(Math.round((u-c)*t)+c)).toString(16).slice(1)},t.shadeRGBColor=function(e,n){var t=e.split(","),r=0>n?0:255,o=0>n?-1*n:n,i=parseInt(t[0].slice(4)),a=parseInt(t[1]),c=parseInt(t[2]);return"rgb("+(Math.round((r-i)*o)+i)+","+(Math.round((r-a)*o)+a)+","+(Math.round((r-c)*o)+c)+")"},t.blendRGBColors=function(e,n,t){var r=e.split(","),o=n.split(","),i=parseInt(r[0].slice(4)),a=parseInt(r[1]),c=parseInt(r[2]);return"rgb("+(Math.round((parseInt(o[0].slice(4))-i)*p)+i)+","+(Math.round((parseInt(o[1])-a)*t)+a)+","+(Math.round((parseInt(o[2])-c)*t)+c)+")"},t.shade=function(e,n){return e.length>7?shadeRGBColor(e,n):shadeColor2(e,n)},t.blend=function(e,n,t){return e.length>7?blendRGBColors(e,n,t):blendColors(e,n,t)},t.gradient=function(e){"r"==e.charAt(0)&&(e=colorToHex(e));var n;n="gradient"+e.substring(1),console.log("GradientId: "+n),console.log("BaseColor : "+e);var t=shadeColor(e,-20),r=d3.select("#gradients").selectAll("#"+n).data([n]).enter().append("radialGradient").attr("class","colorGradient").attr("id",n).attr("gradientUnits","objectBoundingBox").attr("fx","30%").attr("fy","30%");return r.append("stop").attr("offset","0%").attr("style","stop-color:#FFFFFF"),r.append("stop").attr("offset","40%").attr("style","stop-color:"+e),r.append("stop").attr("offset","100%").attr("style","stop-color:"+t),"url(#"+n+")"}},{}],5:[function(e,n,t){n.exports=function(e,n){e=e||{},n=n||{},this.debug=!1,this.config=e.hasOwnProperty("config")?dex.config.expandAndOverlay(e.config,n):dex.config.expandAndOverlay(e,n),dex.console.log("dex.component Configuration",this.config),this.config.channel||(this.config.channel=(this.config.parent||"#parent")+"/"+(this.config.id||"unknown-id")),this.attr=function(e,n){return 0==arguments.length?this.config:1==arguments.length?this.config[e]:(2==arguments.length&&dex.object.setHierarchical(this.config,e,n,"."),this)},this.subscribe=function(e,n,t){if(3==arguments.length){var r=e.config.channel+"/"+n;return dex.console.log("subscribe to "+r),arguments.length<3?(dex.console.log("failed"),!1):dex.bus.subscribe(r,t)}return!1},this.unsubscribe=function(e){dex.bus.unsubscribe(e)},this.publish=function(e){var n;e&&e.type?(n=this.config.channel+"/"+e.type,dex.console.log("publish to "+n),dex.bus.publish(n,e)):(dex.console.warn("publish of event to "+this.channel+" failed."),dex.bus.publish("error",{type:"error",description:"Error publishing event: '"+e+"' to '"+this.channel+"'"}))},this.render=function(){console.log("Unimplemented routine: render()")},this.update=function(){console.log("Unimplemented routine: update()")}}},{}],6:[function(e,n,t){t.expand=function(e){var n,t={};if(!e)return e;for(var n in e)e.hasOwnProperty(n)&&(n&&n.indexOf(".")>-1?(t[n]=e[n],dex.object.setHierarchical(t,n,dex.object.clone(t[n]),"."),delete t[n]):t[n]=dex.object.isEmpty(e[n])?dex.object.clone(e[n]):dex.config.expand(e[n]));return t},t.expandAndOverlay=function(e,n){return dex.object.overlay(dex.config.expand(e),dex.config.expand(n))},t.font=function(e){var n={decoration:"none",family:"sans-serif",letterSpacing:"normal",size:14,style:"normal",weight:"normal",wordSpacing:"normal",variant:"normal"},t=dex.config.expandAndOverlay(e,n);return t},t.configureFont=function(e,n,t){return n&&(dex.config.setAttr(e,"font-family",n.family,t),dex.config.setAttr(e,"font-size",n.size,t),dex.config.setAttr(e,"font-weight",n.weight,t),dex.config.setAttr(e,"font-style",n.style,t),dex.config.setAttr(e,"text-decoration",n.decoration,t),dex.config.setAttr(e,"word-spacing",n.wordSpacing,t),dex.config.setAttr(e,"letter-spacing",n.letterSpacing,t),dex.config.setAttr(e,"variant",n.variant,t)),e},t.text=function(e){var n={font:dex.config.font(),x:0,y:0,textLength:void 0,lengthAdjust:void 0,transform:"",glyphOrientationVertical:void 0,text:void 0,dx:0,dy:0,writingMode:void 0,anchor:"start",fill:dex.config.fill(),format:void 0,events:dex.config.events()},t=dex.config.expandAndOverlay(e,n);return t},t.configureText=function(e,n,t){return n&&(dex.config.setAttr(e,"x",n.x,t),dex.config.setAttr(e,"y",n.y,t),dex.config.setAttr(e,"dx",n.dx,t),dex.config.setAttr(e,"dy",n.dy,t),dex.config.setStyle(e,"text-anchor",n.anchor,t),dex.config.configureFont(e,n.font,t),dex.config.setAttr(e,"textLength",n.textLength,t),dex.config.setAttr(e,"lengthAdjust",n.lengthAdjust,t),dex.config.setAttr(e,"transform",n.transform,t),dex.config.setAttr(e,"glyph-orientation-vertical",n.glyphOrientationVertical,t),dex.config.setAttr(e,"writing-mode",n.writingMode,t),dex.config.callIfDefined(e,"text",n.text,t),dex.config.configureFill(e,n.fill,t),dex.config.configureEvents(e,n.events,t)),e},t.stroke=function(e){var n={width:1,color:"black",opacity:1,dasharray:"",transform:""},t=dex.config.expandAndOverlay(e,n);return t},t.configureStroke=function(e,n,t){return n&&(dex.config.setAttr(e,"stroke",n.color,t),dex.config.setStyle(e,"stroke-width",n.width,t),dex.config.setStyle(e,"stroke-opacity",n.opacity,t),dex.config.setStyle(e,"stroke-dasharray",n.dasharray,t),dex.config.setAttr(e,"transform",n.transform,t)),e},t.fill=function(e){var n={fillColor:"grey",fillOpacity:1},t=dex.config.expandAndOverlay(e,n);return t},t.configureFill=function(e,n,t){return n&&(dex.config.setStyle(e,"fill",n.fillColor,t),dex.config.setStyle(e,"fill-opacity",n.fillOpacity,t)),e},t.link=function(e){var n={fill:dex.config.fill(),stroke:dex.config.stroke(),transform:"",d:void 0,events:dex.config.events()},t=dex.config.expandAndOverlay(e,n);return t},t.configureLink=function(e,n,t){return n&&(dex.config.configureStroke(e,n.stroke,t),dex.config.configureFill(e,n.fill,t),dex.config.setAttr(e,"transform",n.transform,t),dex.config.setAttr(e,"d",n.d,t),dex.config.configureEvents(e,n.events,t)),e},t.rectangle=function(e){var n={width:50,height:50,x:0,y:0,rx:0,ry:0,stroke:dex.config.stroke(),opacity:1,color:d3.scale.category20(),transform:void 0,events:dex.config.events()};return e&&(n=dex.object.overlay(e,n)),n},t.configureRectangle=function(e,n,t){return n&&(dex.config.setAttr(e,"width",n.width,t),dex.config.setAttr(e,"height",n.height,t),dex.config.setAttr(e,"x",n.x,t),dex.config.setAttr(e,"y",n.y,t),dex.config.setAttr(e,"rx",n.rx,t),dex.config.setAttr(e,"ry",n.ry,t),dex.config.setAttr(e,"opacity",n.opacity,t),dex.config.setAttr(e,"fill",n.color,t),dex.config.setAttr(e,"transform",n.transform,t),dex.config.configureStroke(e,n.stroke,t),dex.config.configureEvents(e,n.events,t)),e},t.events=function(e){var n={mouseover:function(e){}},t=n;return e&&(t=dex.object.overlay(e,n)),t},t.configureEvents=function(e,n,t){if(n)for(var r in n)dex.config.setEventHandler(e,r,n[r],t);return e},t.line=function(e){var n={start:dex.config.point(),end:dex.config.point(),stroke:dex.config.stroke(),fill:dex.config.fill(),interpolate:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.configureLine=function(e,n,t){return n&&(dex.config.setAttr(e,"x1",n.start.x,t),dex.config.setAttr(e,"y1",n.start.y,t),dex.config.setAttr(e,"x2",n.end.x,t),dex.config.setAttr(e,"y2",n.end.y,t),dex.config.configureStroke(e,n.stroke,t),dex.config.configureFill(e,n.fill,t),n.interpolate&&e.interpolate(n.interpolate)),e},t.path=function(e){var n={fill:dex.config.fill(),stroke:dex.config.stroke()},t=dex.config.expandAndOverlay(e,n);return t},t.configurePath=function(e,n,t){return n&&(dex.config.configureFill(e,n.fill,t),dex.config.configureStroke(e,n.stroke,t)),e},t.getCallers=function(e){for(var n=[],t=e;t;t=t.caller)t.name&&n.push(t.name);return n.reverse()},t.getCallerString=function(e){return dex.config.getCallers(e).join("->")},t.setEventHandler=function(e,n,t,r){var o=dex.config.getCallerString(arguments.callee.caller);return e?dex.object.isFunction(e.on)?("undefined"!=typeof t?(dex.console.debug(o+": Set Event Handler: '"+n+"'='"+t+"'"),e.on(n,t)):dex.console.debug(o+=": Undefined Event Handler: '"+n+"'='"+t+"'"),e):(dex.console.warn(o+": dex.config.setEventHandler(eventType='"+n+"', eventHandler='"+t+"') : target node is missing function: node.on(eventType,eventHandler).  Node dump:",e),e):(dex.console.warn(o+": dex.config.setEventHandler(eventType='"+n+"eventHandler="+t+") : node is null."),e)},t.setAttr=function(e,n,t,r){var o=dex.config.getCallerString(arguments.callee.caller);return e?dex.object.isFunction(e.attr)?("undefined"!=typeof t?(dex.console.debug(o+": Set Attr: '"+n+"'='"+t+"'"),e.attr(n,dex.config.optionValue(t,r))):dex.console.debug(o+=": Undefined Attr: '"+n+"'='"+t+"'"),e):(dex.console.warn(o+": dex.config.setAttr(name='"+n+"', value='"+t+"') : target node is missing function: node.attr.  Node dump:",e),e):(dex.console.warn(o+": dex.config.setAttr(name='"+n+"value="+t+") : node is null."),e)},t.setStyle=function(e,n,t,r){var o=dex.config.getCallerString(arguments.callee.caller);return e?dex.object.isFunction(e.style)?("undefined"!=typeof t&&e&&dex.object.isFunction(e.style)?(dex.console.debug(o+": Set Style: name='"+n+"', Value Dump:",dex.config.optionValue(t,r)),e.style(n,dex.config.optionValue(t,r))):dex.console.debug(o+": Undefined Style: name='"+n+"', Value Dump:",t),e):(dex.console.warn(o+": dex.config.setStyle(name='"+n+"', value='"+t+"') : target node is missing function: node.style.  Node Dump:",e),e):(dex.console.warn(o+": dex.config.setAttr(name='"+n+"value="+t+") : node is null."),e)},t.optionValue=function(e,n){return"undefined"!=typeof n?function(t){return dex.object.isFunction(e)?e(t,n):e}:function(n,t){return dex.object.isFunction(e)?e(n,t):e}},t.callIfDefined=function(e,n,t,r){return"undefined"!=typeof t?e[n](dex.config.optionValue(t,r)):e},t.point=function(e){var n={x:void 0,y:void 0};return e&&(n=dex.object.overlay(e,n)),n},t.configurePoint=function(e,n,t){return n&&e.attr("x",dex.config.optionValue(n.center.cx,t)).attr("y",dex.config.optionValue(n.center.cy,t)),e},t.configureShapeStyle=function(e,n,t){return n&&e.call(dex.config.configureStroke,n.stroke,t).attr("opacity",n.opacity).style("fill",n.color),e},t.circle=function(e){var n={cx:0,cy:0,r:10,fill:dex.config.fill(),stroke:dex.config.stroke(),transform:"",title:"",events:dex.config.events()};return e&&(n=dex.object.overlay(e,n)),n},t.configureCircle=function(e,n,t){return n&&(dex.config.setAttr(e,"r",n.r,t),dex.config.setAttr(e,"cx",n.cx,t),dex.config.setAttr(e,"cy",n.cy,t),dex.config.setAttr(e,"transform",n.transform,t),dex.config.setAttr(e,"title",n.title,t),dex.config.configureStroke(e,n.stroke,t),dex.config.configureFill(e,n.fill,t),dex.config.configureEvents(e,n.events,t)),e},t.tick=function(e){var n={count:5,subdivide:3,size:{major:5,minor:3,end:5},padding:5,format:d3.format(",d"),label:dex.config.text()};return e&&(n=dex.object.overlay(e,n)),n},t.callConditionally=function(e,n,t){void 0!==n&&(void 0!==t?e(n,t):e(n))},t.axis=function(e){var n={scale:dex.config.scale({type:"linear"}),orient:"bottom",ticks:void 0,tickValues:void 0,tickSize:void 0,innerTickSize:void 0,outerTickSize:void 0,tickPadding:void 0,tickFormat:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.configureAxis=function(e,n,t){return n&&["scale","orient","ticks","tickValues","tickSize","innerTickSize","outerTickSize","tickPadding","tickFormat"].forEach(function(r){dex.config.callConditionally(e[r],n[r],t)}),e},t.createAxis=function(e,n){var t=dex.config.axis(e);return dex.config.configureAxis(d3.svg.axis(),t,n)},t.scale=function(e){var n={linear:dex.config.linearScale,sqrt:dex.config.sqrtScale,pow:dex.config.powScale,time:dex.config.timeScale,log:dex.config.logScale,ordinal:dex.config.ordinalScale,quantile:dex.config.quantileScale,quantize:dex.config.quantizeScale,identity:dex.config.identityScale},t={type:"linear"},r=dex.config.expandAndOverlay(e,t);return n[r.type](r)},t.createScale=function(e){var n,t={linear:d3.scale.linear,sqrt:d3.scale.sqrt,pow:d3.scale.pow,time:d3.time.scale,log:d3.scale.log,ordinal:d3.scale.ordinal,quantile:d3.scale.quantile,quantize:d3.scale.quantize,identity:d3.scale.identity};return e?(n=t[e.type](),dex.config.configureScale(n,e)):n=d3.scale.linear(),n},t.linearScale=function(e){var n={type:"linear",domain:[0,100],range:[0,800],rangeRound:void 0,interpolate:void 0,clamp:void 0,nice:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.powScale=function(e){var n={type:"pow",domain:[0,100],range:[0,800],rangeRound:void 0,interpolate:void 0,clamp:void 0,nice:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.sqrtScale=function(e){var n={type:"sqrt",domain:[0,100],range:[0,800],rangeRound:void 0,interpolate:void 0,clamp:void 0,nice:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.logScale=function(e){var n={type:"log",domain:[0,100],range:[0,800],rangeRound:void 0,interpolate:void 0,clamp:void 0,nice:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.ordinalScale=function(e){var n={type:"ordinal",domain:void 0,range:void 0,rangeRoundBands:void 0,rangePoints:void 0,rangeBands:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.timeScale=function(e){var n={type:"time",domain:void 0,range:void 0,rangeRound:void 0,interpolate:void 0,clamp:void 0,ticks:void 0,tickFormat:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.quantileScale=function(e){var n={type:"quantile",domain:void 0,range:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.quantizeScale=function(e){var n={type:"quantize",domain:void 0,range:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.identityScale=function(e){var n={type:"identity",domain:void 0,range:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.thresholdScale=function(e){var n={type:"threshold",domain:void 0,range:void 0},t=dex.config.expandAndOverlay(e,n);return t},t.configureScale=function(e,n){if(n)for(var t in n)dex.console.trace("ConfigureScale Property: '"+t+"'"),n.hasOwnProperty(t)&&"type"!==t&&void 0!==n[t]?(dex.console.trace("Property: '"+t+"'"),dex.config.callConditionally(e[t],n[t])):dex.console.debug("Missing Property: '"+t+"'");return e}},{}],7:[function(e,n,t){var r={TRACE:5,DEBUG:4,NORMAL:3,WARN:2,FATAL:1,NONE:0};t.logLevels=r;var o=r.NORMAL;t.logLevel=o,t.logWithLevel=function(e,n){if(dex.console.logLevel()>=e)for(i=0;i<n.length;i++)"object"==typeof n[i]?console.dir(n[i]):console.log(n[i]);return this},t.trace=function(){return dex.console.logWithLevel(r.TRACE,arguments)},t.debug=function(){return dex.console.logWithLevel(r.DEBUG,arguments)},t.log=function(){return dex.console.logWithLevel(r.NORMAL,arguments)},t.warn=function(){return dex.console.logWithLevel(r.WARN,arguments)},t.fatal=function(){return dex.console.logWithLevel(r.FATAL,arguments)},t.logLevel=function(e){return arguments.length?o=r[e]:o},t.logLevels=function(){return r}},{}],8:[function(e,n,t){t.csv=function(e,n){var t={header:e,data:n};return t},t.transpose=function(e){return{header:e.header,data:dex.matrix.transpose(e.data)}},t.getConnectionMatrix=function(e){var n,t,r,o,i,a,c,d,l=[],u=[],s={};for(a=dex.matrix.uniques(e.data),u=dex.matrix.flatten(a),s=new Array(a.length),n=0,o=0;n<a.length;n++)for(s[n]={},t=0;t<a[n].length;t++)s[n][u[o]]=o,o+=1;for(l=new Array(u.length),n=0;n<u.length;n++){for(r=new Array(u.length),t=0;t<u.length;t++)r[t]=0;l[n]=r}for(n=0;n<e.data.length;n++)for(t=1;t<e.header.length;t++)c=s[t-1][e.data[n][t-1]],d=s[t][e.data[n][t]],l[c][d]=1,l[d][c]=1;return i={header:u,connections:l}},t.createMap=function(e,n){var t,r,o,i={};for(t=0;t<e.data.length;t+=1)if(e.data[t].length===e.header.length){for(o={},r=0;r<e.header.length;r+=1)o[e.header[r]]=e.data[t][r];i[e.data[t][n]]=o}return i},t.toJson=function(e,n,t){var r,o,i,a=[];if(arguments.length>=3)return i={},i[e.header[t]]=e.data[n][t],i;if(2===arguments.length){var i={};for(o=0;o<e.header.length;o+=1)i[e.header[o]]=e.data[n][o];return i}if(1===arguments.length)for(r=0;r<e.data.length;r++){var i={};for(o=0;o<e.header.length;o++)i[e.header[o]]=e.data[r][o];a.push(i)}return a},t.toColumnArrayJson=function(e){var n,t,r={};if(1===arguments.length){for(t=0;t<e.header.length;t++)r[e.header[t]]=[];for(n=0;n<e.data.length;n++)for(t=0;t<e.header.length;t++)r[e.header[t]].push(e.data[n][t])}return r},t.copy=function(e){var n={header:dex.array.copy(e.header),data:dex.matrix.copy(e.data)};return n},t.toHierarchicalJson=function(e){function n(r,o){var i,a=[];if("undefined"==typeof r)return a;for(i in r)r.hasOwnProperty(i)&&a.push(t(i,e.header[o],n(r[i],o+1)));return a}function t(e,n,t){var r={name:e,category:n,children:t};return r}var r=dex.csv.connections(e);return n(r,0)},t.connections=function(e){var n,t={};for(n=0;n<e.data.length;n++)dex.object.connect(t,e.data[n]);return t},t.createRowMap=function(e,n){var t,r={};for(t=0;t<e.data.length;t++)e.data[t].length==e.header.length&&(r[e.data[t][n]]=e.data[t]);return r},t.columnSlice=function(e,n){var t={};return t.header=dex.array.slice(e.header,n),t.data=dex.matrix.slice(e.data,n),t},t.getNumericColumnNames=function(e){var n,t,r,o={},i=[];for(n=0;n<e.header.length;n++)o[e.header[n]]=!0;for(t=0;t<e.data.length;t++)for(r=0;r<e.data[t].length&&r<e.header.length;r++)o[e.header[r]]&&!dex.object.isNumeric(e.data[t][r])&&(o[e.header[r]]=!1);for(r=0;r<e.header.length;r++)o[e.header[r]]&&i.push(e.header[r]);return i},t.guessTypes=function(e){var n=0,t=[];e.header.forEach(function(e){t.push({})});var r=e.header.length;e.data.forEach(function(e){for(n=0;r>n;n++){if(!t[n].notDate){var o=new Date(e[n]);isNaN(o.getTime())&&(dex.console.log("not date"+n),t[n].notDate=!0)}t[n].notNumber||isNaN(e[n])&&(t[n].notNumber=!0)}});var o=[];for(n=0;r>n;n++){var i=t[n];o.push(!i.notDate&&i.notNumber?"date":i.notNumber?"string":"number")}return o},t.strictTypes=function(e){for(var n=dex.csv.guessTypes(e),t=0;t<n.length;t++)"date"==n[t]?e.data.forEach(function(n,r){dex.console.log("row["+r+"]="+n[r]),e.data[r][t]=new Date(e.data[r][t])}):"number"==n[t]&&e.data.forEach(function(n,r){dex.console.log("row["+r+"]="+n[r]),e.data[r][t]=new Double(e.data[r][t])});return e},t.getFramesByIndex=function(e,n){var t,r=dex.csv.guessTypes(e);t="number"==r[n]?_.uniq(e.data.map(function(e){return e[n]})).sort(function(e,n){return e-n}):"date"==r[n]?_.uniq(e.data.map(function(e){return e[n]})).sort(function(e,n){return e=new Date(e),n=new Date(n),e>n?1:n>e?-1:0}):_.uniq(e.data.map(function(e){return e[n]})).sort();for(var o=dex.array.copy(e.header),i=(o.splice(n,1),[]),a=0;a<t.length;a++){for(var c={header:o},d=[],l=0;l<e.data.length;l++)if(e.data[l][n]==t[a]){var u=dex.array.copy(e.data[l]);u.splice(n,1),d.push(u)}c.data=d,i.push(c)}return{frameIndices:t,frames:i}},t.getNumericIndices=function(e){var n,t,r={},o=[];for(n=0;n<e.header.length;n++)r[e.header[n]]=!0;for(n=1;n<e.data.length;n++)for(t=0;t<e.data[n].length&&t<e.header.length;t++)r[e.header[t]]&&!dex.object.isNumeric(e.data[n][t])&&(console.log("csv.header["+t+"]="+e.header[t]+" is not numeric due to csv.data["+n+"]["+t+"]="+e.data[n][t]),r[e.header[t]]=!1);for(n=0;n<e.header.length;n++)r[e.header[n]]&&o.push(n);return o},t.getCategoricalIndices=function(e){var n,t,r={},o=[];for(n=0;n<e.header.length;n++)r[e.header[n]]=!0;for(n=1;n<e.data.length;n++)for(t=0;t<e.data[n].length&&t<e.header.length;t++)r[e.header[t]]&&!dex.object.isNumeric(e.data[n][t])&&(console.log("csv.header["+t+"]="+e.header[t]+" is not numeric due to csv.data["+n+"]["+t+"]="+e.data[n][t]),r[e.header[t]]=!1);for(n=0;n<e.header.length;n++)r[e.header[n]]||o.push(n);return o},t.isColumnNumeric=function(e,n){var t;for(t=0;t<e.data.length;t++)if(!dex.object.isNumeric(e.data[t][n]))return!1;return!0},t.group=function(e,n){function t(t,r){var o,i;for(o=0;o<n.length;o++){if(i=e.header[n[o]],t[i]<r[i])return-1;if(t[i]>r[i])return 1}return 0}var r,o,i,a,c,d={},l=[];if(arguments<2)return e;for(r=0;r<e.data.length;r+=1){if(i=dex.array.slice(e.data[r],n),a=i.join(":::"),d[a])group=d[a];else{for(group={key:a,values:[],csv:dex.csv.csv(e.header,[])},o=0;o<i.length;o++)group.values.push({name:e.header[n[o]],value:i[o]});d[a]=group}group.csv.data.push(e.data[r])}for(c in d)d.hasOwnProperty(c)&&l.push(d[c]);return l.sort(t)},t.visitCells=function(e,n){var t,r;for(r=0;r<e.data.length;r++)for(t=0;t<e.header.length;t++)n(t,r,e.data[r][t])},t.longestWord=function(e){for(var n=0,t=0;t<e.data.length;t++)for(var r=0;r<e.data[t].length;r++)n<e.data[t][r].length&&(n=e.data[t][r].length);return n},t.numericSubset=function(e){return dex.csv.columnSlice(e,dex.csv.getNumericIndices(e))},t.categoricalSubset=function(e){return dex.csv.columnSlice(e,dex.csv.getCategoricalIndices(e))},t.toJsonHierarchy=function(e,n){if(1==arguments.length){var t={name:"root",children:dex.csv.toJsonHierarchy(e,0)};return dex.console.log("RESULT",t),t}if(2==arguments.length){for(var r={},o=0;o<e.data.length;o++)r.hasOwnProperty(e.data[o][n])?r[e.data[o][n]]++:r[e.data[o][n]]=1;return _.keys(r).map(n>=e.header.length-1?function(e){return{name:e,size:r[e]}}:function(e){return{name:e,size:r[e]}})}},t.getGraph=function(e){var n=[],t=[],r=0,o=[];e.header.map(function(t,i){o.push({}),e.data.map(function(e,t){_.isUndefined(o[i][e[i]])&&(o[i][e[i]]=r,n.push({name:e[i]}),r++)})});for(var i=1;i<e.header.length;i++)e.data.map(function(e,n){t.push({source:o[i-1][e[i-1]],target:o[i][e[i]],value:1})});return{nodes:n,links:t}},t.toNestedJson=function(e){dex.console.log("CMAP",dex.csv.getConnectionMap(e));var n={name:e.header[0],children:dex.csv.toNestedJsonChildren(dex.csv.getConnectionMap(e))};return dex.console.log("RESULT",n),n},t.toNestedJsonChildren=function(e){var n=[];return _.keys(e).map(function(t){var r=e[t];n.push(_.keys(r).length<=0?{name:t,size:1e3}:1==_.keys(r).length?{name:t,children:dex.csv.toNestedJsonChildren(e[t])}:{name:t,children:dex.csv.toNestedJsonChildren(e[t])})}),n},t.getConnectionMap=function(e){for(var n={},t={},r=0;r<e.data.length;r++){t=n;for(var o=0;o<e.header.length;o++)_.has(t,e.data[r][o])||(t[e.data[r][o]]={}),t=t[e.data[r][o]]}return n}},{}],9:[function(e,n,t){t.randomMatrix=function(e){var n,t,r=[],o=e.max-e.min;for(n=0;n<e.rows;n++){var i=[];for(t=0;t<e.columns;t++)i.push(Math.random()*o+e.min);r.push(i)}return r},t.randomIndexedMatrix=function(e){var n,t,r=[],o=e.max-e.min;for(n=0;n<e.rows;n++){var i=[];for(i.push(n+1),t=0;t<e.columns-1;t++)i.push(Math.random()*o+e.min);r.push(i)}return r},t.randomIntegerMatrix=function(e){var n,t,r=[],o=e.max-e.min;for(n=0;n<e.rows;n++){var i=[];for(t=0;t<e.columns;t++)i.push(Math.round(Math.random()*o+e.min));r.push(i)}return r},t.identityCsv=function(e){var n={};return n.header=dex.datagen.identityHeader(e),n.data=dex.datagen.identityMatrix(e),n},t.identityMatrix=function(e){var n,t,r=[];for(n=0;n<e.rows;n++){var o=[];for(t=0;t<e.columns;t++)o.push("R"+(n+1)+"C"+(t+1));r.push(o)}return r},t.identityHeader=function(e){return dex.range(1,e.columns).map(function(e){return"C"+e})}},{}],10:[function(e,n,t){t.toCsv=function(e,n){var t,r,o=[];if(2==arguments.length){if(Array.isArray(e))for(t=0;t<e.length;t++){var i=[];for(r=0;r<n.length;r++)i.push(e[t][n[r]]);o.push(i)}else{var i=[];for(r=0;r<n.length;r++)i.push(e[t][n[r]]);o.push(i)}return dex.csv.csv(n,o)}return dex.json.toCsv(e,dex.json.keys(e))},t.keys=function(e){var n,t,r={},o=[];if(Array.isArray(e))for(n=0;n<e.length;n++)for(t in e[n])r[t]=!0;else for(t in e)r[t]=!0;for(t in r)o.push(t);return o}},{}],11:[function(e,n,t){t.slice=function(e,n,t){var r,o=new Array(0);if(3===arguments.length)for(r=0;r<t.length;r++)o.push(dex.array.slice(e[t[r]]));else for(r=0;r<e.length;r++)o.push(dex.array.slice(e[r],n));return o},t.uniques=function(e){var n,t=[],r=dex.matrix.transpose(e),o=r.length;for(n=0;o>n;n+=1)t.push(_.uniq(r[n]));return t},t.transpose=function(e){var n,t,r=[];if(!e||e.length<=0||!e[0]||e[0].length<=0)return[];for(t=e[0].length,n=0;t>n;n++)r.push(e.map(function(e){return e[n]}));return r},t.flatten=function(e){return _.flatten(e)},t.extent=function(e,n){var t=e;if(2===arguments.length){t=dex.matrix.flatten(dex.matrix.slice(e,n));var r=Math.max.apply(null,t),o=Math.min.apply(null,t);return[o,r]}},t.combine=function(e,n){var t,r=_.clone(e);for(t=0;t<n.length;t++)r[t]=r[t].concat(n[t]);return r},t.copy=function(e){return e.map(function(e){return _.clone(e)})},t.addIndex=function(e){for(var n=dex.matrix.copy(e),t=0;t<e.length;t++)n[t].unshift(t+1);return n},t.isColumnNumeric=function(e,n){for(var t=0;t<e.length;t++)if(!_.isNumber(e[t][n]))return!1;return!0},t.max=function(e,n){var t,r=e[0][n];if(dex.matrix.isColumnNumeric(e,n))for(r=parseFloat(e[0][n]),t=1;t<e.length;t++)r<parseFloat(e[t][n])&&(r=parseFloat(e[t][n]));else for(t=1;t<e.length;t++)r<e[t][n]&&(r=e[t][n]);return r},t.min=function(e,n){var t,r=e[0][n];if(dex.matrix.isColumnNumeric(e,n))for(r=parseFloat(e[0][n]),t=1;t<e.length;t++)r>parseFloat(e[t][n])&&(r=parseFloat(e[t][n]));else for(t=1;t<e.length;t++)r>e[t][n]&&(r=e[t][n]);return r}},{}],12:[function(e,n,t){t.keys=function r(e){var r=[];for(var n in e)e.hasOwnProperty(n)&&r.push(n);return r},t.clone=function(e){var n,t,r;if(null==e||"object"!=typeof e)return e;if(e instanceof Date){var o=new Date;return o.setTime(e.getTime()),o}if(e instanceof Array){var o=[];for(n=0,r=e.length;r>n;n++)o[n]=dex.object.clone(e[n]);return o}if(dex.object.isElement(e)||dex.object.isNode(e))return e;if(e instanceof Object){var o={};for(t in e)e.hasOwnProperty(t)&&(o[t]=dex.object.clone(e[t]));return o}throw new Error("Unable to copy obj! Its type isn't supported.")},t.isEmpty=function(e){if(!e||e instanceof Array)return!0;if("object"==typeof e)for(var n in e)if(e.hasOwnProperty(n))return!1;return!0},t.overlay=function o(e,n){var t,o=dex.object.clone(n);if("undefined"!==e)for(t in e)o[t]="object"!=typeof e[t]||null==o[t]||e[t]instanceof Array?e[t]:dex.object.overlay(e[t],o[t]);return o},t.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},t.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},t.contains=function(e,n){for(var t=e.length;t--;)if(e[t]===n)return!0;return!1},t.isFunction=function(e){return _.isFunction(e)},t.connect=function(e,n){return dex.console.log("map:",e,"values:",n),!n||n.length<=0?this:(e[n[0]]||(e[n[0]]={}),dex.object.connect(e[n[0]],n.slice(1)),this)},t.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},t.setHierarchical=function(e,n,t,r){return null==e&&(e={}),"object"!=typeof e?e:4==arguments.length?dex.object.setHierarchical(e,n.split(r),t):(1===n.length?e[n[0]]=t:(n[0]in e||(e[n[0]]={}),dex.object.setHierarchical(e[n[0]],n.splice(1),t)),e)}},{}]},{},[1])(1)});
//# sourceMappingURL=dex.min.js.map