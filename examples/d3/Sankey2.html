<!DOCTYPE html>
<meta charset="utf-8">
<style>

.node rect {
  cursor: move;
  fill-opacity: .9;
  shape-rendering: crispEdges;
}
 
.node text {
  pointer-events: none;
  text-shadow: 0 1px 0 #fff;
}
 
.hideme.link {
  fill: none;
  stroke: #000000;
  stroke-opacity: .2;
}
 
.link:hover {
  stroke-opacity: .5;
}
</style>
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.theme.min.css">

<body>
<svg id="ChartArea" width="100%" height="100%"></svg>

<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
<script src="../../build/js/dex.js"></script>
<script src="../../src/charts/d3/Sankey.js"></script>
<script>

var csv =
{
  'header' : [ "HUSBAND", "WIFE", "DOG", "YEARS-MARRIED" ],
  //'data'   : [["1", 400], ["2", 1000], [ "3", 500 ]]
  'data':
  [
    ["Bob", "Sue", "Rover", 1],
    ["Patrick", "Jennifer", "Spot", 10],
    ["Rob", "Jennifer", "Sadie", 40],
    ["Jennifer", "Bill", "Sadie", 2]
  ]
};

// Configure a chart.
var sankey = new dex.charts.d3.Sankey(
{
  'parent'  : "#ChartArea",
  'csv'     : csv,
  'link.stroke.color' : "blue",
  'link.stroke.opacity' : .2,
  'link.stroke.dasharray' : "1 2 3 5 8 13",
  'relationships' :
  [
    {
      'source' : csv.header.indexOf("HUSBAND"),
      'target' : csv.header.indexOf("WIFE")
    }
  ]
});

sankey.render();

</script>