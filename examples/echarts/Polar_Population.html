<!DOCTYPE html>
<meta charset="utf-8">
<style>
    html, body, #EChart {
        height: 100%;
        min-height: 100%;
        width: 100%;
        min-width: 100%;
    }
</style>

<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.css">
<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.theme.min.css">
<body>

<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>

<script src="../../dist/dex.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/3.6.1/echarts.js"></script>
<body>
<div id="EChart"></div>
<script>

  var csv = {
    'header': ["Year", "Age", "Population", "Total Population", "Percent of Population"],
    'data': [
      ["1850", "0", "2934165", "19987559", "14.6"],
      ["1850", "5", "2770735", "19987559", "13.8"],
      ["1850", "10", "2476213", "19987559", "12.3"],
      ["1850", "15", "2187752", "19987559", "10.9"],
      ["1850", "20", "2021122", "19987559", "10.1"],
      ["1850", "25", "1662029", "19987559", "8.3"],
      ["1850", "30", "1370274", "19987559", "6.8"],
      ["1850", "35", "1093499", "19987559", "5.4"],
      ["1850", "40", "904096", "19987559", "4.5"],
      ["1850", "45", "725465", "19987559", "3.6"],
      ["1850", "50", "607923", "19987559", "3.0"],
      ["1850", "55", "381288", "19987559", "1.9"],
      ["1850", "60", "337212", "19987559", "1.6"],
      ["1850", "65", "212361", "19987559", "1.0"],
      ["1850", "70", "145439", "19987559", "0.7"],
      ["1850", "75", "81063", "19987559", "0.4"],
      ["1850", "80", "46398", "19987559", "0.2"],
      ["1850", "85", "18697", "19987559", "0.0"],
      ["1850", "90", "11828", "19987559", "0.0"],
      ["1860", "0", "4213008", "27488452", "15.3"],
      ["1860", "5", "3583239", "27488452", "13.0"],
      ["1860", "10", "3152990", "27488452", "11.4"],
      ["1860", "15", "2934093", "27488452", "10.6"],
      ["1860", "20", "2721583", "27488452", "9.9"],
      ["1860", "25", "2333988", "27488452", "8.4"],
      ["1860", "30", "1979229", "27488452", "7.2"],
      ["1860", "35", "1604046", "27488452", "5.8"],
      ["1860", "40", "1316260", "27488452", "4.7"],
      ["1860", "45", "1014143", "27488452", "3.6"],
      ["1860", "50", "863481", "27488452", "3.1"],
      ["1860", "55", "559641", "27488452", "2.0"],
      ["1860", "60", "510622", "27488452", "1.8"],
      ["1860", "65", "290736", "27488452", "1.0"],
      ["1860", "70", "200243", "27488452", "0.7"],
      ["1860", "75", "114296", "27488452", "0.4"],
      ["1860", "80", "58513", "27488452", "0.2"],
      ["1860", "85", "24487", "27488452", "0.0"],
      ["1860", "90", "13854", "27488452", "0.0"],
      ["1870", "0", "5517185", "38522729", "14.3"],
      ["1870", "5", "4822149", "38522729", "12.5"],
      ["1870", "10", "4770011", "38522729", "12.3"],
      ["1870", "15", "4035638", "38522729", "10.4"],
      ["1870", "20", "3714685", "38522729", "9.6"],
      ["1870", "25", "3083344", "38522729", "8.0"],
      ["1870", "30", "2527163", "38522729", "6.5"],
      ["1870", "35", "2322826", "38522729", "6.0"],
      ["1870", "40", "1913262", "38522729", "4.9"],
      ["1870", "45", "1600588", "38522729", "4.1"],
      ["1870", "50", "1374188", "38522729", "3.5"],
      ["1870", "55", "893855", "38522729", "2.3"],
      ["1870", "60", "774065", "38522729", "2.0"],
      ["1870", "65", "499909", "38522729", "1.2"],
      ["1870", "70", "338865", "38522729", "0.8"],
      ["1870", "75", "176469", "38522729", "0.4"],
      ["1870", "80", "101617", "38522729", "0.2"],
      ["1870", "85", "35193", "38522729", "0.0"],
      ["1870", "90", "21717", "38522729", "0.0"],
      ["1880", "0", "6955259", "50155048", "13.8"],
      ["1880", "5", "6476645", "50155048", "12.9"],
      ["1880", "10", "5725474", "50155048", "11.4"],
      ["1880", "15", "4985552", "50155048", "9.9"],
      ["1880", "20", "5060583", "50155048", "10.0"],
      ["1880", "25", "4093634", "50155048", "8.1"],
      ["1880", "30", "3345879", "50155048", "6.6"],
      ["1880", "35", "3024489", "50155048", "6.0"],
      ["1880", "40", "2476782", "50155048", "4.9"],
      ["1880", "45", "2069684", "50155048", "4.1"],
      ["1880", "50", "1827496", "50155048", "3.6"],
      ["1880", "55", "1273990", "50155048", "2.5"],
      ["1880", "60", "1107254", "50155048", "2.2"],
      ["1880", "65", "715701", "50155048", "1.4"],
      ["1880", "70", "507282", "50155048", "1.0"],
      ["1880", "75", "285141", "50155048", "0.5"],
      ["1880", "80", "144816", "50155048", "0.2"],
      ["1880", "85", "53664", "50155048", "0.1"],
      ["1880", "90", "25723", "50155048", "0.0"],
      ["1900", "0", "9208740", "76262821", "12.0"],
      ["1900", "5", "8856266", "76262821", "11.6"],
      ["1900", "10", "8059418", "76262821", "10.5"],
      ["1900", "15", "7576589", "76262821", "9.9"],
      ["1900", "20", "7445099", "76262821", "9.7"],
      ["1900", "25", "6625336", "76262821", "8.6"],
      ["1900", "30", "5584138", "76262821", "7.3"],
      ["1900", "35", "4981620", "76262821", "6.5"],
      ["1900", "40", "4266057", "76262821", "5.5"],
      ["1900", "45", "3516438", "76262821", "4.6"],
      ["1900", "50", "2983019", "76262821", "3.9"],
      ["1900", "55", "2226540", "76262821", "2.9"],
      ["1900", "60", "1804079", "76262821", "2.3"],
      ["1900", "65", "1312875", "76262821", "1.7"],
      ["1900", "70", "894754", "76262821", "1.1"],
      ["1900", "75", "534090", "76262821", "0.7"],
      ["1900", "80", "259884", "76262821", "0.3"],
      ["1900", "85", "92622", "76262821", "0.1"],
      ["1900", "90", "35257", "76262821", "0.0"],
      ["1910", "0", "10584300", "92253350", "11.4"],
      ["1910", "5", "9857942", "92253350", "10.6"],
      ["1910", "10", "9122634", "92253350", "9.8"],
      ["1910", "15", "9158423", "92253350", "9.9"],
      ["1910", "20", "9085315", "92253350", "9.8"],
      ["1910", "25", "8203908", "92253350", "8.8"],
      ["1910", "30", "6953345", "92253350", "7.5"],
      ["1910", "35", "6516508", "92253350", "7.0"],
      ["1910", "40", "5331496", "92253350", "5.7"],
      ["1910", "45", "4478731", "92253350", "4.8"],
      ["1910", "50", "3900108", "92253350", "4.2"],
      ["1910", "55", "2826009", "92253350", "3.0"],
      ["1910", "60", "2280118", "92253350", "2.4"],
      ["1910", "65", "1664027", "92253350", "1.8"],
      ["1910", "70", "1105559", "92253350", "1.1"],
      ["1910", "75", "673579", "92253350", "0.7"],
      ["1910", "80", "336030", "92253350", "0.3"],
      ["1910", "85", "122424", "92253350", "0.1"],
      ["1910", "90", "52894", "92253350", "0.0"],
      ["1920", "0", "11629036", "106021560", "10.9"],
      ["1920", "5", "11482968", "106021560", "10.8"],
      ["1920", "10", "10694213", "106021560", "10.0"],
      ["1920", "15", "9504301", "106021560", "8.9"],
      ["1920", "20", "9292043", "106021560", "8.7"],
      ["1920", "25", "9094448", "106021560", "8.5"],
      ["1920", "30", "8093197", "106021560", "7.6"],
      ["1920", "35", "7795353", "106021560", "7.3"],
      ["1920", "40", "6381680", "106021560", "6.0"],
      ["1920", "45", "5812980", "106021560", "5.4"],
      ["1920", "50", "4746526", "106021560", "4.4"],
      ["1920", "55", "3555647", "106021560", "3.3"],
      ["1920", "60", "2970426", "106021560", "2.8"],
      ["1920", "65", "2085857", "106021560", "1.9"],
      ["1920", "70", "1404715", "106021560", "1.3"],
      ["1920", "75", "856757", "106021560", "0.8"],
      ["1920", "80", "398110", "106021560", "0.3"],
      ["1920", "85", "168820", "106021560", "0.1"],
      ["1920", "90", "54483", "106021560", "0.0"],
      ["1930", "0", "11537780", "122285173", "9.4"],
      ["1930", "5", "12672153", "122285173", "10.3"],
      ["1930", "10", "12051349", "122285173", "9.8"],
      ["1930", "15", "11479039", "122285173", "9.3"],
      ["1930", "20", "10871374", "122285173", "8.8"],
      ["1930", "25", "9980082", "122285173", "8.1"],
      ["1930", "30", "8879621", "122285173", "7.2"],
      ["1930", "35", "9170307", "122285173", "7.4"],
      ["1930", "40", "7829161", "122285173", "6.4"],
      ["1930", "45", "7029710", "122285173", "5.7"],
      ["1930", "50", "5937299", "122285173", "4.8"],
      ["1930", "55", "4732691", "122285173", "3.8"],
      ["1930", "60", "3711079", "122285173", "3.0"],
      ["1930", "65", "2704587", "122285173", "2.2"],
      ["1930", "70", "1837554", "122285173", "1.5"],
      ["1930", "75", "1059091", "122285173", "0.8"],
      ["1930", "80", "530287", "122285173", "0.4"],
      ["1930", "85", "198188", "122285173", "0.1"],
      ["1930", "90", "73821", "122285173", "0.0"],
      ["1940", "0", "10419281", "131668991", "7.9"],
      ["1940", "5", "10827477", "131668991", "8.2"],
      ["1940", "10", "11828948", "131668991", "8.9"],
      ["1940", "15", "12358810", "131668991", "9.3"],
      ["1940", "20", "11578416", "131668991", "8.7"],
      ["1940", "25", "11102410", "131668991", "8.4"],
      ["1940", "30", "10211570", "131668991", "7.7"],
      ["1940", "35", "9516613", "131668991", "7.2"],
      ["1940", "40", "8831453", "131668991", "6.7"],
      ["1940", "45", "8240477", "131668991", "6.2"],
      ["1940", "50", "7274131", "131668991", "5.5"],
      ["1940", "55", "5782069", "131668991", "4.3"],
      ["1940", "60", "4688022", "131668991", "3.5"],
      ["1940", "65", "3808795", "131668991", "2.8"],
      ["1940", "70", "2567734", "131668991", "1.9"],
      ["1940", "75", "1478790", "131668991", "1.1"],
      ["1940", "80", "774179", "131668991", "0.5"],
      ["1940", "85", "279434", "131668991", "0.2"],
      ["1940", "90", "100382", "131668991", "0.0"],
      ["1950", "0", "16074073", "150694834", "10.6"],
      ["1950", "5", "13157464", "150694834", "8.7"],
      ["1950", "10", "11060579", "150694834", "7.3"],
      ["1950", "15", "10552871", "150694834", "7.0"],
      ["1950", "20", "11427535", "150694834", "7.5"],
      ["1950", "25", "12324586", "150694834", "8.1"],
      ["1950", "30", "11571200", "150694834", "7.6"],
      ["1950", "35", "11207625", "150694834", "7.4"],
      ["1950", "40", "10276209", "150694834", "6.8"],
      ["1950", "45", "9129019", "150694834", "6.0"],
      ["1950", "50", "8346459", "150694834", "5.5"],
      ["1950", "55", "7262509", "150694834", "4.8"],
      ["1950", "60", "6044806", "150694834", "4.0"],
      ["1950", "65", "4969484", "150694834", "3.2"],
      ["1950", "70", "3414751", "150694834", "2.2"],
      ["1950", "75", "2154999", "150694834", "1.4"],
      ["1950", "80", "1149444", "150694834", "0.7"],
      ["1950", "85", "425619", "150694834", "0.2"],
      ["1950", "90", "145602", "150694834", "0.0"],
      ["1960", "0", "20521974", "179301542", "11.4"],
      ["1960", "5", "18746244", "179301542", "10.4"],
      ["1960", "10", "16874464", "179301542", "9.4"],
      ["1960", "15", "13238395", "179301542", "7.3"],
      ["1960", "20", "10781879", "179301542", "6.0"],
      ["1960", "25", "10860064", "179301542", "6.0"],
      ["1960", "30", "11892204", "179301542", "6.6"],
      ["1960", "35", "12494400", "179301542", "6.9"],
      ["1960", "40", "11598463", "179301542", "6.4"],
      ["1960", "45", "10861686", "179301542", "6.0"],
      ["1960", "50", "9692208", "179301542", "5.4"],
      ["1960", "55", "8573459", "179301542", "4.7"],
      ["1960", "60", "7129132", "179301542", "3.9"],
      ["1960", "65", "6128070", "179301542", "3.4"],
      ["1960", "70", "4632242", "179301542", "2.5"],
      ["1960", "75", "2950284", "179301542", "1.6"],
      ["1960", "80", "1476875", "179301542", "0.8"],
      ["1960", "85", "637817", "179301542", "0.3"],
      ["1960", "90", "211682", "179301542", "0.1"],
      ["1970", "0", "17012008", "203302006", "8.3"],
      ["1970", "5", "20414424", "203302006", "10.0"],
      ["1970", "10", "21099941", "203302006", "10.3"],
      ["1970", "15", "19019683", "203302006", "9.3"],
      ["1970", "20", "16071032", "203302006", "7.9"],
      ["1970", "25", "13442342", "203302006", "6.6"],
      ["1970", "30", "11371320", "203302006", "5.5"],
      ["1970", "35", "11104753", "203302006", "5.4"],
      ["1970", "40", "11847857", "203302006", "5.8"],
      ["1970", "45", "11992862", "203302006", "5.8"],
      ["1970", "50", "11082129", "203302006", "5.4"],
      ["1970", "55", "9985075", "203302006", "4.9"],
      ["1970", "60", "8614894", "203302006", "4.2"],
      ["1970", "65", "7037433", "203302006", "3.4"],
      ["1970", "70", "5478835", "203302006", "2.6"],
      ["1970", "75", "3892645", "203302006", "1.9"],
      ["1970", "80", "2303708", "203302006", "1.1"],
      ["1970", "85", "1029634", "203302006", "0.5"],
      ["1970", "90", "501431", "203302006", "0.2"],
      ["1980", "0", "16521220", "227021768", "7.2"],
      ["1980", "5", "16956611", "227021768", "7.4"],
      ["1980", "10", "18500821", "227021768", "8.1"],
      ["1980", "15", "21109127", "227021768", "9.2"],
      ["1980", "20", "21101723", "227021768", "9.2"],
      ["1980", "25", "19451956", "227021768", "8.5"],
      ["1980", "30", "17661060", "227021768", "7.7"],
      ["1980", "35", "13986308", "227021768", "6.1"],
      ["1980", "40", "11646058", "227021768", "5.1"],
      ["1980", "45", "11040012", "227021768", "4.8"],
      ["1980", "50", "11713826", "227021768", "5.1"],
      ["1980", "55", "11645327", "227021768", "5.1"],
      ["1980", "60", "10153025", "227021768", "4.4"],
      ["1980", "65", "8790457", "227021768", "3.8"],
      ["1980", "70", "6821215", "227021768", "3.0"],
      ["1980", "75", "4792197", "227021768", "2.1"],
      ["1980", "80", "2932178", "227021768", "1.2"],
      ["1980", "85", "1495453", "227021768", "0.6"],
      ["1980", "90", "703194", "227021768", "0.3"],
      ["1990", "0", "18201472", "248107628", "7.3"],
      ["1990", "5", "18074687", "248107628", "7.2"],
      ["1990", "10", "17119826", "248107628", "6.9"],
      ["1990", "15", "17611563", "248107628", "7.0"],
      ["1990", "20", "18588832", "248107628", "7.4"],
      ["1990", "25", "21245319", "248107628", "8.5"],
      ["1990", "30", "22134462", "248107628", "8.9"],
      ["1990", "35", "19892577", "248107628", "8.0"],
      ["1990", "40", "17640884", "248107628", "7.1"],
      ["1990", "45", "13963211", "248107628", "5.6"],
      ["1990", "50", "11453917", "248107628", "4.6"],
      ["1990", "55", "10442176", "248107628", "4.2"],
      ["1990", "60", "10617027", "248107628", "4.2"],
      ["1990", "65", "10132506", "248107628", "4.0"],
      ["1990", "70", "8039642", "248107628", "3.2"],
      ["1990", "75", "6068912", "248107628", "2.4"],
      ["1990", "80", "3888726", "248107628", "1.5"],
      ["1990", "85", "2008284", "248107628", "0.8"],
      ["1990", "90", "983605", "248107628", "0.3"],
      ["2000", "0", "19046094", "281420717", "6.7"],
      ["2000", "5", "20621710", "281420717", "7.3"],
      ["2000", "10", "20585757", "281420717", "7.3"],
      ["2000", "15", "19930088", "281420717", "7.0"],
      ["2000", "20", "19055559", "281420717", "6.7"],
      ["2000", "25", "19178000", "281420717", "6.8"],
      ["2000", "30", "20325175", "281420717", "7.2"],
      ["2000", "35", "23110829", "281420717", "8.2"],
      ["2000", "40", "22808830", "281420717", "8.1"],
      ["2000", "45", "20186259", "281420717", "7.1"],
      ["2000", "50", "17419067", "281420717", "6.1"],
      ["2000", "55", "13380350", "281420717", "4.7"],
      ["2000", "60", "10792360", "281420717", "3.8"],
      ["2000", "65", "9258407", "281420717", "3.2"],
      ["2000", "70", "8977000", "281420717", "3.1"],
      ["2000", "75", "7268299", "281420717", "2.5"],
      ["2000", "80", "5124536", "281420717", "1.8"],
      ["2000", "85", "2951513", "281420717", "1.0"],
      ["2000", "90", "1400884", "281420717", "0.4"]
    ]
  };

  var chart = dex.charts.echarts.PolarPlot({
    parent: '#EChart',
    csv: csv,
    //radiusIndex: "Series",
    angleIndex: "Year",
    angleAxisType: "category",
    seriesIndex: "Age",
    //radiusIndex: "Series",
    valueIndex: "Population",
    'series.type': 'line',
    'series.symbolSize': function(d) {
      if (Array.isArray(d))
      {
        return chart.config.sizeScale(d[0]);
      }
      return chart.config.sizeScale(d);
    },
    options: {
      radiusAxis: {
        axisLabel: {
          rotate: 45
        }
      }
    }
  });
  chart.render();
</script>